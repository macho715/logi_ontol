> **⚠️ 중요**: 이 문서를 읽기 전에 **`../logiontology/`** 폴더를 먼저 확인하세요!
> - **전체 구현 코드**: `../logiontology/src/`
> - **설정 파일**: `../logiontology/configs/`
> - **온톨로지 정의**: `../logiontology/configs/ontology/hvdc_ontology.ttl`
> - **문서**: `../logiontology/README.md`, `../logiontology/CHANGELOG.md`

---

┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                                 사용자 인터페이스 (UI/Dashboard) Layer                       │
│                                                                                             │
│  ┌──────────────────────────┐  ┌──────────────────────────┐  ┌──────────────────────────┐    │
│  │ 검색창 & 입력 폼         │  │ 대시보드 KPI 패널         │  │ 출력 옵션                │    │
│  │ - 입력: B/L, 코드, 현장  │  │ - 실시간 KPI (직송률 95%) │  │ - PDF/Excel 다운로드     │    │
│  │ - 자연어 쿼리 지원 (NLP) │  │ - AI 알림 (리스크 경고)   │  │ - 시각화 공유 (링크)     │    │
│  └────────────┬─────────────┘  └────────────┬─────────────┘  └────────────┬─────────────┘    │
│               │                              │                              │                 │
│               └───────────────►──────────────┘                              │                 │
│                                              ▼                              │                 │
│                                          [React + FastAPI]                 │                 │
│                                                                                             │
└─────────────────────────────────────────────────────────────────────────────────────────────┘
                                               ↓ (API 호출: REST/GraphQL)
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                           AI 인사이트 & 리포트 엔진 Layer                                    │
│                                                                                             │
│  ┌──────────────────────────┐  ┌──────────────────────────┐  ┌──────────────────────────┐    │
│  │ 자동 리포트 생성기        │  │ LLM 인사이트 모듈         │  │ 시각화 엔진               │    │
│  │ - 템플릿: Jinja2         │  │ - Grok API 연동           │  │ - D3.js (네트워크 그래프) │    │
│  │ - 출력: PDF/Excel        │  │ - 인사이트: "지연 리스크  │  │ - Chart.js (KPI 차트)    │    │
│  │ - 예: B/L 연계 문서 목록 │  │   85%, 최적화 제안"       │  │ - 예: 흐름 타임라인      │    │
│  └────────────┬─────────────┘  └────────────┬─────────────┘  └────────────┬─────────────┘    │
│               │                              │                              │                 │
│               └───────────────►──────────────┘                              │                 │
│                                              ▼                              │                 │
│                                          [PyTorch / NetworkX for AI]       │                 │
│                                                                                             │
└─────────────────────────────────────────────────────────────────────────────────────────────┘
                                               ↓ (SPARQL 쿼리 + RDF 추출)
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                           지식 그래프 핵심 엔진 (KG Core) Layer                              │
│                                                                                             │
│  ┌──────────────────────────┐  ┌──────────────────────────┐  ┌──────────────────────────┐    │
│  │ 온톨로지 저장소          │  │ 그래프 데이터베이스        │  │ 추론 & 쿼리 엔진          │    │
│  │ - OWL/RDF 클래스 정의    │  │ - Neo4j/Stardog           │  │ - SPARQL 엔드포인트       │    │
│  │ - 예: hvdc:Site (MIR)    │  │ - 노드: Cargo, Warehouse  │  │ - Jena/OWL API (추론 룰) │    │
│  │ - 제약: SHACL            │  │ - 에지: hasFlowCode       │  │ - 예: B/L → 연계 검색    │    │
│  └────────────┬─────────────┘  └────────────┬─────────────┘  └────────────┬─────────────┘    │
│               │                              │                              │                 │
│               └───────────────►──────────────┘                              │                 │
│                                              ▼                              │                 │
│                                          [보안: OAuth / 스케일: AWS Cloud] │                 │
│                                                                                             │
└─────────────────────────────────────────────────────────────────────────────────────────────┘
                                               ↓ (ETL 파이프라인 + 매핑)
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                           데이터 수집 및 정제 계층 (Ingestion Layer)                         │
│                                                                                             │
│  ┌──────────────────────────┐  ┌──────────────────────────┐  ┌──────────────────────────┐    │
│  │ OCR & 문서 파싱          │  │ 엑셀/CSV 매핑             │  │ 실시간 데이터 연동        │    │
│  │ - Tesseract/AWS Textract │  │ - Pandas/RDFLib           │  │ - Kafka/REST API          │    │
│  │ - 예: Invoice → RDF      │  │ - 예: 창고 엑셀 → Node    │  │ - 예: GPS → TransportEvent│    │
│  └────────────┬─────────────┘  └────────────┬─────────────┘  └────────────┬─────────────┘    │
│               │                              │                              │                 │
│               └───────────────►──────────────┘                              │                 │
│                                              ▼                              │                 │
│                                          [정규화: UN/LOCODE, HS Code]      │                 │
│                                                                                             │
└─────────────────────────────────────────────────────────────────────────────────────────────┘
                                               ↓ (원본 데이터 입력)
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                           원본 데이터 소스 (Data Sources)                                   │
│                                                                                             │
│  ┌──────────────────────────┐  ┌──────────────────────────┐  ┌──────────────────────────┐    │
│  │ 문서 (PDF, BL, Invoice)  │  │ 데이터베이스 (ERP, Excel) │  │ 실시간 소스 (IoT, GPS)   │    │
│  └──────────────────────────┘  └──────────────────────────┘  └──────────────────────────┘    │
│                                                                                             │
└─────────────────────────────────────────────────────────────────────────────────────────────┘
